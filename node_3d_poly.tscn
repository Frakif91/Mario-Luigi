[gd_scene load_steps=19 format=3 uid="uid://c1smvwh2b70iv"]

[ext_resource type="PackedScene" uid="uid://cg5cphpkwg8ve" path="res://Godot/Nodes/Brother/MarioOverworld.tscn" id="1_an0rp"]
[ext_resource type="Script" path="res://Godot/Scripts/Utility/CamSlowFlo.gd" id="2_u671h"]
[ext_resource type="LightmapGIData" uid="uid://r2i7im0mfrua" path="res://Godot/Bakes/node_3d.lmbake" id="3_lhd2p"]
[ext_resource type="Texture2D" uid="uid://cyy0d0b136u6g" path="res://Assets/Handmade/PiT/Textures/up_view.png" id="4_kmjox"]
[ext_resource type="PackedScene" uid="uid://3ehm7agaca1t" path="res://Godot/Nodes/Brother/LuigiOverworld.tscn" id="4_kxp3g"]
[ext_resource type="PackedScene" uid="uid://bxv35thqu84qn" path="res://Assets/Handmade/Maps/Outskirts/outskirts.tscn" id="4_s6del"]
[ext_resource type="Script" path="res://Godot/Scripts/Utility/Teleporter.gd" id="5_7clf1"]
[ext_resource type="AudioStream" uid="uid://dkwqcr4i122ao" path="res://Assets/SFX/Mario Odysee/B70kawa_1.aw_00000026.wav" id="6_o1jn2"]
[ext_resource type="AudioStream" uid="uid://cbhwlcf4etn1j" path="res://Assets/Music/The Wind is Blowing at Cavi BIS OST.mp3" id="7_6n866"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_f50pv"]

[sub_resource type="BoxShape3D" id="BoxShape3D_1ex84"]
size = Vector3(8.87228, 0.461853, 4.14255)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_qit7l"]
height = 0.345772
radius = 0.308859

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_m6mug"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 0
albedo_texture = ExtResource("4_kmjox")

[sub_resource type="PlaneMesh" id="PlaneMesh_nsoht"]
material = SubResource("ORMMaterial3D_m6mug")
size = Vector2(0.4, 0.4)

[sub_resource type="GDScript" id="GDScript_sndss"]
resource_name = "up_view"
script/source = "extends MeshInstance3D
@export var speed = 1.0

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	rotation.y += PI*delta*speed
"

[sub_resource type="CylinderShape3D" id="CylinderShape3D_n0rao"]
height = 1.39269
radius = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_wh5js"]
size = Vector3(1.44971, 3.37239, 0.215942)

[sub_resource type="BoxShape3D" id="BoxShape3D_k18jg"]
size = Vector3(50, 1.5, 30)

[node name="Node3D" type="Node3D"]

[node name="Mario" parent="." instance=ExtResource("1_an0rp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.01725, 0.122319, -2.1366)
luigi_np = NodePath("../Luigi")
JUMP_VELOCITY = 3.2
metadata/_edit_group_ = true

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Mario"]
stream = ExtResource("6_o1jn2")
volume_db = -6.0
unit_size = 3.0
bus = &"Effects"

[node name="Camera3D" type="Camera3D" parent="Mario"]
transform = Transform3D(1, 0, 0, 0, 0.866026, 0.5, 0, -0.5, 0.866026, 0, 1.5, 2)
attributes = SubResource("CameraAttributesPractical_f50pv")
doppler_tracking = 2
current = true
script = ExtResource("2_u671h")
speed = 5.0
follow_offset = Vector3(0, 2, 3)

[node name="AudioListener3D" type="AudioListener3D" parent="Mario/Camera3D"]
current = true

[node name="Luigi" parent="." instance=ExtResource("4_kxp3g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.05505, 0.0181018, -2.87159)
jump_power = 3.2

[node name="Node3D" type="Node3D" parent="."]

[node name="StaticBody3D" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.63118, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.083724, -0.234955, -2.05792)
shape = SubResource("BoxShape3D_1ex84")

[node name="Dust" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.50067, 0, -2.29491)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/Dust"]
shape = SubResource("CylinderShape3D_qit7l")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Node3D/Dust"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.110199, 0)
mesh = SubResource("PlaneMesh_nsoht")
script = SubResource("GDScript_sndss")

[node name="TreeCol" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.98285, 0.624559, -0.454615)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol2" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.938511, 0.624559, -1.95258)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol2"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol3" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3488, 0.624559, -2.60958)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol3"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol4" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.73715, 0.624559, -3.32083)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol4"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol5" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.791135, 0.624559, -3.32083)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol5"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol6" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.42225, 0.624559, -3.42117)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol6"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol7" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.31169, 0.624559, -3.11252)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol7"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol8" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.5123, 0.624559, -0.536422)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol8"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="TreeCol9" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.44562, 0.624559, -0.559165)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TreeCol9"]
shape = SubResource("CylinderShape3D_n0rao")

[node name="StaticBody3D2" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8432, 0, -1.12932)

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Node3D/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.04254)
depth = 2.45
polygon = PackedVector2Array(-3.54921, 0.00336692, -3.54901, 0.310726, -2.38186, 0.309947, -2.38199, 0.619194, -1.21297, 0.611529, -1.20224, 0.928298, 0.401094, 0.922801, 0.401524, 1.22714, 1.68996, 1.2029, 3.44619, 1.20498, 3.44511, 0.834284, 4.42001, 0.825331, 4.44233, 0.37836, 5.44004, 0.378536, 5.44165, 0.00766008, 14.5798, 0.00188151, 14.5701, -0.361955, -8.81546, -0.379728, -8.81664, 0.00132798)

[node name="StaticBody3D3" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8432, 0, -1.12932)

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Node3D/StaticBody3D3"]
transform = Transform3D(-1, -8.74228e-08, -3.82137e-15, 0, -4.37114e-08, 1, -8.74228e-08, 1, 4.37114e-08, -3.117, 0.282, -1.045)
depth = 1.275
polygon = PackedVector2Array(3.0678, -1.21952, 3.06471, -0.43606, 2.32857, -0.437122, 2.33153, 0.0130637, 1.60238, 0.013279, 1.60439, 0.451372, -1.90774, 0.450713, -1.91204, 1.21536, -3.51563, 1.21539, -3.51285, 0.600024, -3.07, 0.6, -3.07045, -0.293951, -2.63494, -0.297024, -2.63844, -1.22254)

[node name="StaticBody3D4" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 17.8432, 0, -1.79909)

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Node3D/StaticBody3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.03)
depth = 0.79
polygon = PackedVector2Array(-12.2539, 1.22687, -12.2563, 0.00737388, -11.7652, 0.00618148, -11.7667, 1.22411, -10.0615, 1.22856, -10.0594, -0.000121061, -9.56277, 0.00122011, -9.56269, 1.22502, -7.86016, 1.22494, -7.86217, 0.00634841, -7.38837, 0.00793728, -7.37827, 1.22791, -0.527092, 1.22903, -0.527166, 1.50272, 0.465349, 1.51044, 0.471592, -0.0420157, -15.2844, -0.0877876, -15.2854, 1.22812)

[node name="StaticBody3D5" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 34.6533, 0.335642, -1.79909)

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Node3D/StaticBody3D5"]
transform = Transform3D(1, 8.74228e-08, 8.73526e-08, -8.74228e-08, 0.000802831, 1, 8.73526e-08, -1, 0.000802831, 0, 0.262014, 0.764015)
depth = 1.25
polygon = PackedVector2Array(2.82297, 0.121438, 2.82253, 0.685455, 2.51591, 0.685964, 2.51619, 1.10412, 2.22504, 1.10525, 2.23043, 1.58792, -2.55883, 1.58782, -2.55854, -0.479362, -0.718674, -0.496277, 1.52386, -0.477461, 1.52079, -0.647986, 3.68249, -0.651334, 4.55354, -0.647428, 4.55352, 0.119969)

[node name="StaticBody3D6" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 34.6533, 0.335642, -1.79909)

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Node3D/StaticBody3D6"]
transform = Transform3D(1, 8.74228e-08, 8.73526e-08, -8.74228e-08, 0.000802831, 1, 8.73526e-08, -1, 0.000802831, 0, 1.5137, 3.7119)
depth = 1.25
polygon = PackedVector2Array(1.52272, 2.47011, 1.52465, 0.860043, 0.0123138, 0.857168, 0.0133972, 0.103836, 6.79691, 0.103295, 6.79729, -2.85158, -2.55217, -2.85178, -2.55906, 2.47211, -1.99459, 2.46994, -1.99724, 1.01359, -0.555729, 1.0136, -0.557369, 2.46914)

[node name="StaticBody3D7" type="StaticBody3D" parent="Node3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 6.80132e-08, 0.628289, -0.77798, 5.49268e-08, -0.77798, -0.628289, 36.0594, 1.06129, -3.23952)

[node name="CollisionPolygon3D" type="CollisionShape3D" parent="Node3D/StaticBody3D7"]
transform = Transform3D(1, 7.10543e-15, 1.42109e-14, 0, 1, 1.19209e-07, 3.55271e-15, -1.19209e-07, 1, 0.131104, 0.180607, -0.201726)
shape = SubResource("BoxShape3D_wh5js")

[node name="LightmapGI" type="LightmapGI" parent="."]
light_data = ExtResource("3_lhd2p")

[node name="Outskirts" parent="." instance=ExtResource("4_s6del")]

[node name="Teleporter" type="Area3D" parent="."]
collision_mask = 4
script = ExtResource("5_7clf1")
target_reload_cur_scene = true
target_pos = Vector3(4.49307, 1.51865, -2.33877)
transition_loading_screen = false
time_before_transition = 2.0
sound_np = NodePath("../Mario/AudioStreamPlayer3D")
volume_linear = 0.2
camera_np = NodePath("../Mario/Camera3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Teleporter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, -1.5, -3)
shape = SubResource("BoxShape3D_k18jg")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_6n866")
volume_db = -12.0
autoplay = true
parameters/looping = true
