!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(b=b||self).Tobii=a()}(this,function(){"use strict";var aE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A,a,b,k,aO,aM,aL,Z,cd,Y,cc,V,v,l,d,U,ca,c,N,bZ,aG,aF,aD,m,aB,H,f,G,u,bX,D,p,B,J,ay,ae,bW,aw,bV,bS,al,ak,ai,bR,j,bQ,bP,bO,r,i,C,ab,F,P,ac,ad,bM,bL,$,bK,s,ce,bJ,Q,am,an,bI,ap,aq,bF,bD,bs,br,bp,bl,q,bh,bg,bf,bd,bc,aY,e,o,I,S,aJ,aX,z,n,aV,g,aU,aQ,_,aS,aa,aP,aN,aW,X,aj,aZ,a_,a$,ba,bb,h,aC,be,K,aA,E,bi,bj,bk,M,bm,bn,bo,t,bq,av,au,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,O,bE,ar,bG,bH,R,L,af,x,bN,ah,W,ag,T,w,bT,bU,at,ax,az,bY,aH,b_,b$,aI,cb,aK,y,aT;function aR(b,a){return b(a={exports:{}},a.exports),a.exports}A=function(a){return a&&a.Math==Math&&a},a=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof aE&&aE)||Function("return this")(),b=function(a){try{return!!a()}catch(a){return!0}},k=!b(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),aO={}.propertyIsEnumerable,aM=Object.getOwnPropertyDescriptor,aL={f:aM&&!aO.call({1:2},1)?function(b){var a=aM(this,b);return!!a&&a.enumerable}:aO},Z=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},cd={}.toString,Y=function(a){return cd.call(a).slice(8,-1)},cc="".split,V=b(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return"String"==Y(a)?cc.call(a,""):Object(a)}:Object,v=function(a){if(null==a)throw TypeError("Can't call method on "+a);return a},l=function(a){return V(v(a))},d=function(a){return"object"==typeof a?null!==a:"function"==typeof a},U=function(a,e){if(!d(a))return a;var b,c;if(e&&"function"==typeof(b=a.toString)&&!d(c=b.call(a)))return c;if("function"==typeof(b=a.valueOf)&&!d(c=b.call(a)))return c;if(!e&&"function"==typeof(b=a.toString)&&!d(c=b.call(a)))return c;throw TypeError("Can't convert object to primitive value")},ca={}.hasOwnProperty,c=function(a,b){return ca.call(a,b)},N=a.document,bZ=d(N)&&d(N.createElement),aG=!k&&!b(function(){return 7!=Object.defineProperty((a="div",bZ?N.createElement(a):{}),"a",{get:function(){return 7}}).a;var a}),aF=Object.getOwnPropertyDescriptor,aD={f:k?aF:function(a,b){if(a=l(a),b=U(b,!0),aG)try{return aF(a,b)}catch(a){}if(c(a,b))return Z(!aL.f.call(a,b),a[b])}},m=function(a){if(!d(a))throw TypeError(String(a)+" is not an object");return a},aB=Object.defineProperty,H={f:k?aB:function(b,c,a){if(m(b),c=U(c,!0),m(a),aG)try{return aB(b,c,a)}catch(a){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(b[c]=a.value),b}},f=k?function(a,b,c){return H.f(a,b,Z(1,c))}:function(a,b,c){return a[b]=c,a},G=function(c,b){try{f(a,c,b)}catch(d){a[c]=b}return b},u=a["__core-js_shared__"]||G("__core-js_shared__",{}),bX=Function.toString,"function"!=typeof u.inspectSource&&(u.inspectSource=function(a){return bX.call(a)}),ay=u.inspectSource,ae=a.WeakMap,bW="function"==typeof ae&&/native code/.test(ay(ae)),aw=aR(function(a){(a.exports=function(a,b){return u[a]||(u[a]=void 0!==b?b:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),bV=0,bS=Math.random(),al=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++bV+bS).toString(36)},ak=aw("keys"),ai={},bR=a.WeakMap,bW?(j=new bR,bQ=j.get,bP=j.has,bO=j.set,D=function(b,a){return bO.call(j,b,a),a},p=function(a){return bQ.call(j,a)||{}},B=function(a){return bP.call(j,a)}):(r=ak[J="state"]||(ak[J]=al(J)),ai[r]=!0,D=function(b,a){return f(b,r,a),a},p=function(a){return c(a,r)?a[r]:{}},B=function(a){return c(a,r)}),ab={set:D,get:p,has:B,enforce:function(a){return B(a)?p(a):D(a,{})},getterFor:function(a){return function(b){var c;if(!d(b)||(c=p(b)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return c}}},F=aR(function(b){var d=ab.get,e=ab.enforce,g=String(String).split("String");(b.exports=function(h,b,d,i){var k=!!i&&!!i.unsafe,j=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof d&&("string"!=typeof b||c(d,"name")||f(d,"name",b),e(d).source=g.join("string"==typeof b?b:"")),h!==a?(k?!l&&h[b]&&(j=!0):delete h[b],j?h[b]=d:f(h,b,d)):j?h[b]=d:G(b,d)})(Function.prototype,"toString",function(){return"function"==typeof this&&d(this).source||ay(this)})}),P=a,ac=function(a){return"function"==typeof a?a:void 0},ad=function(b,c){return arguments.length<2?ac(P[b])||ac(a[b]):P[b]&&P[b][c]||a[b]&&a[b][c]},bM=Math.ceil,bL=Math.floor,$=function(a){return isNaN(a=+a)?0:(a>0?bL:bM)(a)},bK=Math.min,s=function(a){return a>0?bK($(a),9007199254740991):0},ce=Math.max,bJ=Math.min,Q=function(c,b){var a=$(c);return a<0?ce(a+b,0):bJ(a,b)},am=function(a){return function(h,d,g){var f,c=l(h),e=s(c.length),b=Q(g,e);if(a&&d!=d){for(;e>b;)if((f=c[b++])!=f)return!0}else for(;e>b;b++)if((a||b in c)&&c[b]===d)return a||b||0;return!a&&-1}},an={includes:am(!0),indexOf:am(!1)},bI=an.indexOf,ap=function(g,e){var a,d=l(g),f=0,b=[];for(a in d)!c(ai,a)&&c(d,a)&&b.push(a);for(;e.length>f;)c(d,a=e[f++])&&(~bI(b,a)||b.push(a));return b},aq=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bF=aq.concat("length","prototype"),bD={f:Object.getOwnPropertyNames||function(a){return ap(a,bF)}},bs={f:Object.getOwnPropertySymbols},br=ad("Reflect","ownKeys")||function(a){var b=bD.f(m(a)),c=bs.f;return c?b.concat(c(a)):b},bp=function(f,d){for(var e=br(d),g=H.f,h=aD.f,b=0,a;b<e.length;b++)a=e[b],c(f,a)||g(f,a,h(d,a))},bl=/#|\.prototype\./,q=function(d,a){var c=bg[bh(d)];return c==bd||c!=bf&&("function"==typeof a?b(a):!!a)},bh=q.normalize=function(a){return String(a).replace(bl,".").toLowerCase()},bg=q.data={},bf=q.NATIVE="N",bd=q.POLYFILL="P",bc=q,aY=aD.f,e=function(b,j){var h,c,d,e,i,g=b.target,k=b.global,l=b.stat;if(h=k?a:l?a[g]||G(g,{}):(a[g]||{}).prototype)for(c in j){if(e=j[c],d=b.noTargetGet?(i=aY(h,c))&&i.value:h[c],!bc(k?c:g+(l?".":"#")+c,b.forced)&&void 0!==d){if(typeof e==typeof d)continue;bp(e,d)}(b.sham||d&&d.sham)&&f(e,"sham",!0),F(h,c,e,b)}},o=Array.isArray||function(a){return"Array"==Y(a)},I=function(a){return Object(v(a))},S=function(a,d,c){var b=U(d);b in a?H.f(a,b,Z(0,c)):a[b]=c},aJ=!!Object.getOwnPropertySymbols&&!b(function(){return!String(Symbol())}),aX=aJ&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,z=aw("wks"),n=a.Symbol,aV=aX?n:n&&n.withoutSetter||al,g=function(a){return c(z,a)||(aJ&&c(n,a)?z[a]=n[a]:z[a]=aV("Symbol."+a)),z[a]},aU=g("species"),aQ=function(b,c){var a;return o(b)&&("function"!=typeof(a=b.constructor)||a!==Array&&!o(a.prototype)?d(a)&&null===(a=a[aU])&&(a=void 0):a=void 0),new(void 0===a?Array:a)(0===c?0:c)},_=ad("navigator","userAgent")||"",aS=a.process,aa=aS&&aS.versions,aP=aa&&aa.v8,aP?C=(i=aP.split("."))[0]+i[1]:_&&(!(i=_.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=_.match(/Chrome\/(\d+)/))&&(C=i[1]),aN=C&&+C,aW=g("species"),X=function(a){return aN>=51||!b(function(){var b=[];return(b.constructor={})[aW]=function(){return{foo:1}},1!==b[a](Boolean).foo})},aj=g("isConcatSpreadable"),aZ=aN>=51||!b(function(){var a=[];return a[aj]=!1,a.concat()[0]!==a}),a_=X("concat"),a$=function(a){if(!d(a))return!1;var b=a[aj];return void 0!==b?!!b:o(a)},e({target:"Array",proto:!0,forced:!aZ||!a_},{concat:function(i){var b,d,g,h,c,f=I(this),e=aQ(f,0),a=0;for(b=-1,g=arguments.length;b<g;b++)if(a$(c=-1===b?f:arguments[b])){if(a+(h=s(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(d=0;d<h;d++,a++)d in c&&S(e,a,c[d])}else{if(a>=9007199254740991)throw TypeError("Maximum allowed index exceeded");S(e,a++,c)}return e.length=a,e}}),ba=function(a,b,c){if(function(a){if("function"!=typeof a)throw TypeError(String(a)+" is not a function")}(a),void 0===b)return a;switch(c){case 0:return function(){return a.call(b)};case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},bb=[].push,h=function(a){var c=1==a,e=2==a,f=3==a,b=4==a,d=6==a,g=5==a||d;return function(k,t,q,u){for(var l,i,n=I(k),j=V(n),r=ba(t,q,3),o=s(j.length),h=0,p=u||aQ,m=c?p(k,o):e?p(k,0):void 0;o>h;h++)if((g||h in j)&&(i=r(l=j[h],h,n),a))if(c)m[h]=i;else if(i)switch(a){case 3:return!0;case 5:return l;case 6:return h;case 2:bb.call(m,l)}else if(b)return!1;return d?-1:f||b?b:m}},aC={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)},be=Object.defineProperty,K={},aA=function(a){throw a},E=function(d,a){if(c(K,d))return K[d];a||(a={});var e=[][d],f=!!c(a,"ACCESSORS")&&a.ACCESSORS,g=c(a,0)?a[0]:aA,h=c(a,1)?a[1]:void 0;return K[d]=!!e&&!b(function(){if(f&&!k)return!0;var a={length:-1};f?be(a,1,{enumerable:!0,get:aA}):a[1]=1,e.call(a,g,h)})},bi=aC.filter,bj=X("filter"),bk=E("filter"),e({target:"Array",proto:!0,forced:!bj||!bk},{filter:function(a){return bi(this,a,arguments.length>1?arguments[1]:void 0)}}),M=function(c,d){var a=[][c];return!!a&&b(function(){a.call(null,d||function(){throw 1},1)})},bm=aC.forEach,bn=M("forEach"),bo=E("forEach"),t=bn&&bo?[].forEach:function(a){return bm(this,a,arguments.length>1?arguments[1]:void 0)},e({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t}),bq=an.indexOf,av=[].indexOf,au=!!av&&1/[1].indexOf(1,-0)<0,bt=M("indexOf"),bu=E("indexOf",{ACCESSORS:!0,1:0}),e({target:"Array",proto:!0,forced:au||!bt||!bu},{indexOf:function(a){return au?av.apply(this,arguments)||0:bq(this,a,arguments.length>1?arguments[1]:void 0)}}),bv=[].join,bw=V!=Object,bx=M("join",","),e({target:"Array",proto:!0,forced:bw||!bx},{join:function(a){return bv.call(l(this),void 0===a?",":a)}}),by=X("slice"),bz=E("slice",{ACCESSORS:!0,0:0,1:2}),bA=g("species"),bB=[].slice,bC=Math.max,e({target:"Array",proto:!0,forced:!by||!bz},{slice:function(j,i){var a,e,f,c=l(this),g=s(c.length),b=Q(j,g),h=Q(void 0===i?g:i,g);if(o(c)&&("function"!=typeof(a=c.constructor)||a!==Array&&!o(a.prototype)?d(a)&&null===(a=a[bA])&&(a=void 0):a=void 0,a===Array||void 0===a))return bB.call(c,b,h);for(e=new(void 0===a?Array:a)(bC(h-b,0)),f=0;b<h;b++,f++)b in c&&S(e,f,c[b]);return e.length=f,e}}),O=Object.keys||function(a){return ap(a,aq)},bE=aL.f,ar=function(a){return function(h){for(var b,c=l(h),e=O(c),g=e.length,f=0,d=[];g>f;)b=e[f++],k&&!bE.call(c,b)||d.push(a?[b,c[b]]:c[b]);return d}},bG={entries:ar(!0),values:ar(!1)}.entries,e({target:"Object",stat:!0},{entries:function(a){return bG(a)}}),e({target:"Object",stat:!0,forced:b(function(){O(1)})},{keys:function(a){return O(I(a))}}),bH=function(){var b=m(this),a="";return b.global&&(a+="g"),b.ignoreCase&&(a+="i"),b.multiline&&(a+="m"),b.dotAll&&(a+="s"),b.unicode&&(a+="u"),b.sticky&&(a+="y"),a};function ao(a,b){return RegExp(a,b)}af={UNSUPPORTED_Y:b(function(){var a=ao("a","y");return a.lastIndex=2,null!=a.exec("abcd")}),BROKEN_CARET:b(function(){var a=ao("^r","gy");return a.lastIndex=2,null!=a.exec("str")})},x=RegExp.prototype.exec,bN=String.prototype.replace,ah=x,W=(R=/a/,L=/b*/g,x.call(R,"a"),x.call(L,"a"),0!==R.lastIndex||0!==L.lastIndex),ag=af.UNSUPPORTED_Y||af.BROKEN_CARET,T=void 0!==/()??/.exec("")[1],(W||T||ag)&&(ah=function(h){var k,e,a,d,b=this,i=ag&&b.sticky,c=bH.call(b),f=b.source,j=0,g=h;return i&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),g=String(h).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&"\n"!==h[b.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,j++),e=new RegExp("^(?:"+f+")",c)),T&&(e=new RegExp("^"+f+"$(?!\\s)",c)),W&&(k=b.lastIndex),a=x.call(i?e:b,g),i?a?(a.input=a.input.slice(j),a[0]=a[0].slice(j),a.index=b.lastIndex,b.lastIndex+=a[0].length):b.lastIndex=0:W&&a&&(b.lastIndex=b.global?a.index+a[0].length:k),T&&a&&a.length>1&&bN.call(a[0],e,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(a[d]=void 0)}),a}),w=ah,e({target:"RegExp",proto:!0,forced:/./.exec!==w},{exec:w}),bT=g("species"),bU=!b(function(){var a=/./;return a.exec=function(){var a=[];return a.groups={a:"7"},a},"7"!=="".replace(a,"$<a>")}),at="$0"==="a".replace(/./,"$0"),ax=g("replace"),az=!!/./[ax]&&""===/./[ax]("a","$0"),bY=!b(function(){var a=/(?:)/,c=a.exec,b;return a.exec=function(){return c.apply(this,arguments)},b="ab".split(a),2!==b.length||"a"!==b[0]||"b"!==b[1]}),aH=function(a){return function(h,g){var d,e,c=String(v(h)),b=$(g),f=c.length;return b<0||b>=f?a?"":void 0:(d=c.charCodeAt(b))<55296||d>56319||b+1===f||(e=c.charCodeAt(b+1))<56320||e>57343?a?c.charAt(b):d:a?c.slice(b,b+2):e-56320+(d-55296<<10)+65536}},b_={codeAt:aH(!1),charAt:aH(!0)}.charAt,b$=function(b,a,c){return a+(c?b_(b,a).length:1)},aI=function(a,b){var c=a.exec,d;if("function"==typeof c){if(d=c.call(a,b),"object"!=typeof d)throw TypeError("RegExp exec method returned something other than an Object or null");return d}if("RegExp"!==Y(a))throw TypeError("RegExp#exec called on incompatible receiver");return w.call(a,b)},!function(c,i,m,j){var a=g(c),d=!b(function(){var b={};return b[a]=function(){return 7},7!=""[c](b)}),k=d&&!b(function(){var d=!1,b=/a/;return"split"===c&&((b={}).constructor={},b.constructor[bT]=function(){return b},b.flags="",b[a]=/./[a]),b.exec=function(){return d=!0,null},b[a](""),!d}),l,e,n,h;(!d||!k||"replace"===c&&(!bU||!at||az)||"split"===c&&!bY)&&(l=/./[a],e=m(a,""[c],function(e,a,b,c,f){return a.exec===w?d&&!f?{done:!0,value:l.call(a,b,c)}:{done:!0,value:e.call(b,a,c)}:{done:!1}},{REPLACE_KEEPS_$0:at,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:az}),n=e[0],h=e[1],F(String.prototype,c,n),F(RegExp.prototype,a,2==i?function(a,b){return h.call(a,this,b)}:function(a){return h.call(a,this)})),j&&f(RegExp.prototype[a],"sham",!0)}("match",1,function(a,b,c){return[function(b){var c=v(this),d=null==b?void 0:b[a];return void 0!==d?d.call(b,c):new RegExp(b)[a](String(c))},function(f){var i=c(b,f,this),a,e,k,g,h,d,j;if(i.done)return i.value;if(a=m(f),e=String(this),!a.global)return aI(a,e);k=a.unicode,a.lastIndex=0;for(g,h=[],d=0;null!==(g=aI(a,e));)j=String(g[0]),h[d]=j,""===j&&(a.lastIndex=b$(e,s(a.lastIndex),k)),d++;return 0===d?null:h}]});for(cb in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})if(aK=a[cb],y=aK&&aK.prototype,y&&y.forEach!==t)try{f(y,"forEach",t)}catch(a){y.forEach=t}return"function"!=typeof window.CustomEvent&&(aT=function(c,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");return b.initCustomEvent(c,a.bubbles,a.cancelable,a.detail),b},aT.prototype=window.Event.prototype,window.CustomEvent=aT),function i(al){var o=window,aj=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],J=[],ai={gallery:[],slider:null,sliderElements:[],elementsLength:0,currentIndex:0,x:0},t=[],c={},K=0,d=null,f=null,g=null,k=null,u=null,e={},p=!1,r=!1,n=!1,M=null,I=null,E=null,G=!1,U=!1,H=0,a={},h=null,b=null,l={image:{checkSupport:function(a){return!a.hasAttribute("data-type")&&a.href.match(/\.(png|jpe?g|tiff|tif|gif|bmp|webp|svg|ico)(\?.*)?$/i)},init:function(e,h){var f=document.createElement("figure"),a=document.createElement("figcaption"),b=document.createElement("img"),d=e.querySelector("img"),g=document.createElement("div");f.style.opacity="0",d&&(b.alt=d.alt||""),b.setAttribute("src",""),b.setAttribute("data-src",e.href),f.appendChild(b),c.captions&&("self"===c.captionsSelector&&e.getAttribute(c.captionAttribute)?a.textContent=e.getAttribute(c.captionAttribute):"img"===c.captionsSelector&&d&&d.getAttribute(c.captionAttribute)&&(a.textContent=d.getAttribute(c.captionAttribute)),a.textContent&&(a.id="tobii-figcaption-".concat(K),f.appendChild(a),b.setAttribute("aria-labelledby",a.id),++K)),h.appendChild(f),g.className="tobii__loader",g.setAttribute("role","progressbar"),g.setAttribute("aria-label",c.loadingIndicatorLabel),h.appendChild(g),h.setAttribute("data-type","image")},onPreload:function(a){l.image.onLoad(a)},onLoad:function(b){var a=b.querySelector("img"),c,d;a.hasAttribute("data-src")&&(c=b.querySelector("figure"),d=b.querySelector(".tobii__loader"),a.onload=function(){b.removeChild(d),c.style.opacity="1"},a.setAttribute("src",a.getAttribute("data-src")),a.removeAttribute("data-src"))},onLeave:function(a){},onCleanup:function(a){}},html:{checkSupport:function(a){return F(a,"html")},init:function(a,b){var c=a.hasAttribute("href")?a.getAttribute("href"):a.getAttribute("data-target"),d=document.querySelector(c);if(!d)throw new Error("Ups, I can't find the target ".concat(c,"."));b.appendChild(d),b.setAttribute("data-type","html")},onPreload:function(a){},onLoad:function(b){var a=b.querySelector("video");a&&(a.hasAttribute("data-time")&&a.readyState>0&&(a.currentTime=a.getAttribute("data-time")),c.autoplayVideo&&a.play())},onLeave:function(b){var a=b.querySelector("video");a&&(a.paused||a.pause(),a.readyState>0&&a.setAttribute("data-time",a.currentTime))},onCleanup:function(b){var a=b.querySelector("video"),c;a&&a.readyState>0&&a.readyState<3&&a.duration!==a.currentTime&&(c=a.cloneNode(!0),ah(a),a.load(),a.parentNode.removeChild(a),b.appendChild(c))}},iframe:{checkSupport:function(a){return F(a,"iframe")},init:function(a,c){var b=document.createElement("iframe"),d=a.hasAttribute("href")?a.getAttribute("href"):a.getAttribute("data-target");b.setAttribute("frameborder","0"),b.setAttribute("src",""),b.setAttribute("data-src",d),a.getAttribute("data-width")&&(b.style.maxWidth="".concat(a.getAttribute("data-width"),"px")),a.getAttribute("data-height")&&(b.style.maxHeight="".concat(a.getAttribute("data-height"),"px")),c.appendChild(b),c.setAttribute("data-type","iframe")},onPreload:function(a){},onLoad:function(b){var a=b.querySelector("iframe");a.setAttribute("src",a.getAttribute("data-src"))},onLeave:function(a){},onCleanup:function(a){}},youtube:{checkSupport:function(a){return F(a,"youtube")},init:function(a,b){var c=document.createElement("div");b.appendChild(c),t[H]=new window.YT.Player(c,{host:"https://www.youtube-nocookie.com",height:a.getAttribute("data-height")||"360",width:a.getAttribute("data-width")||"640",videoId:a.getAttribute("data-id"),playerVars:{controls:a.getAttribute("data-controls")||1,rel:0,playsinline:1}}),b.setAttribute("data-player",H),b.setAttribute("data-type","youtube"),H++},onPreload:function(a){},onLoad:function(a){c.autoplayVideo&&t[a.getAttribute("data-player")].playVideo()},onLeave:function(a){1===t[a.getAttribute("data-player")].getPlayerState()&&t[a.getAttribute("data-player")].pauseVideo()},onCleanup:function(a){1===t[a.getAttribute("data-player")].getPlayerState()&&t[a.getAttribute("data-player")].pauseVideo()}}},S=function(a){if(null===document.querySelector('[data-type="youtube"]')||U)R(a);else{if(null===document.getElementById("iframe_api")){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.id="iframe_api",b.src="https://www.youtube.com/iframe_api",c.parentNode.insertBefore(b,c)}-1===J.indexOf(a)&&J.push(a),window.onYouTubePlayerAPIReady=function(){J.forEach(function(a){R(a)}),U=!0}}},D=function(a){return a.hasAttribute("data-group")?a.getAttribute("data-group"):"default"},R=function(d){var f,e;if(h=D(d),Object.prototype.hasOwnProperty.call(a,h)||(a[h]=(f=ai,JSON.parse(JSON.stringify(f))),ak()),-1!==a[h].gallery.indexOf(d))throw new Error("Ups, element already added.");a[h].gallery.push(d),a[h].elementsLength++,c.zoom&&d.querySelector("img")&&(e=document.createElement("div"),e.className="tobii-zoom__icon",e.innerHTML=c.zoomText,d.classList.add("tobii-zoom"),d.appendChild(e)),d.addEventListener("click",V),ag(d),j()&&h===b&&(N(),s())},Q=function(e){var d=D(e),g,h,f;if(-1===a[d].gallery.indexOf(e))throw new Error("Ups, I can't find a slide for the element ".concat(e,"."));if(g=a[d].gallery.indexOf(e),h=a[d].sliderElements[g],j()&&d===b&&g===a[d].currentIndex){if(1===a[d].elementsLength)throw m(),new Error("Ups, I've closed. There are no slides more to show.");0===a[d].currentIndex?v():w()}a[d].elementsLength--,c.zoom&&e.querySelector(".tobii-zoom__icon")&&(f=e.querySelector(".tobii-zoom__icon"),f.parentNode.classList.remove("tobii-zoom"),f.parentNode.removeChild(f)),e.removeEventListener("click",V),h.parentNode.removeChild(h)},am=function(){(d=document.createElement("div")).setAttribute("role","dialog"),d.setAttribute("aria-hidden","true"),d.classList.add("tobii"),d.classList.add(c.theme),(f=document.createElement("button")).className="tobii__btn tobii__btn--previous",f.setAttribute("type","button"),f.setAttribute("aria-label",c.navLabel[0]),f.innerHTML=c.navText[0],d.appendChild(f),(g=document.createElement("button")).className="tobii__btn tobii__btn--next",g.setAttribute("type","button"),g.setAttribute("aria-label",c.navLabel[1]),g.innerHTML=c.navText[1],d.appendChild(g),(k=document.createElement("button")).className="tobii__btn tobii__btn--close",k.setAttribute("type","button"),k.setAttribute("aria-label",c.closeLabel),k.innerHTML=c.closeText,d.appendChild(k),(u=document.createElement("div")).className="tobii__counter",d.appendChild(u),document.body.appendChild(d)},ak=function(){a[h].slider=document.createElement("div"),a[h].slider.className="tobii__slider",a[h].slider.setAttribute("aria-hidden","true"),d.appendChild(a[h].slider)},ag=function(e){var c,b,d;for(c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&l[c].checkSupport(e)){b=document.createElement("div"),d=document.createElement("div"),b.className="tobii__slide",b.style.position="absolute",b.style.left="".concat(100*a[h].x,"%"),b.setAttribute("aria-hidden","true"),l[c].init(e,d),b.appendChild(d),a[h].slider.appendChild(b),a[h].sliderElements.push(b),++a[h].x;break}},O=function(e){var f,g;if(b=null!==b?b:h,j())throw new Error("Ups, I'm aleady open.");if(!j()&&(e||(e=0),-1===e||e>=a[b].elementsLength))throw new Error("Ups, I can't find slide ".concat(e,"."));c.hideScrollbar&&(document.documentElement.classList.add("tobii-is-open"),document.body.classList.add("tobii-is-open")),N(),c.close||(k.disabled=!1,k.setAttribute("aria-hidden","true")),M=document.activeElement,f=window.location.href,history.pushState({tobii:"close"},"Image",f),a[b].currentIndex=e,C(),an(),y(a[b].currentIndex),a[b].slider.setAttribute("aria-hidden","false"),d.setAttribute("aria-hidden","false"),s(),q(a[b].currentIndex+1),q(a[b].currentIndex-1),setTimeout(function(){a[b].slider.classList.add("tobii__slider--animate")},1e3),g=new CustomEvent("open"),d.dispatchEvent(g)},m=function(){if(!j())throw new Error("Ups, I'm already closed.");c.hideScrollbar&&(document.documentElement.classList.remove("tobii-is-open"),document.body.classList.remove("tobii-is-open")),af(),null!==history.state&&"close"===history.state.tobii&&history.back(),M.focus(),z(a[b].currentIndex),x(a[b].currentIndex),d.setAttribute("aria-hidden","true"),a[b].slider.setAttribute("aria-hidden","true"),a[b].currentIndex=0,a[b].slider.classList.remove("tobii__slider--animate")},q=function(c){if(void 0!==a[b].sliderElements[c]){var d=a[b].sliderElements[c].querySelector("[data-type]"),e=d.getAttribute("data-type");l[e].onPreload(d)}},y=function(c){if(void 0!==a[b].sliderElements[c]){var d=a[b].sliderElements[c].querySelector("[data-type]"),e=d.getAttribute("data-type");a[b].sliderElements[c].classList.add("tobii__slide--is-active"),a[b].sliderElements[c].setAttribute("aria-hidden","false"),l[e].onLoad(d)}},w=function(){if(!j())throw new Error("Ups, I'm closed.");a[b].currentIndex>0&&(z(a[b].currentIndex),y(--a[b].currentIndex),s("left"),x(a[b].currentIndex+1),q(a[b].currentIndex-1));var c=new CustomEvent("previous");d.dispatchEvent(c)},v=function(){if(!j())throw new Error("Ups, I'm closed.");a[b].currentIndex<a[b].elementsLength-1&&(z(a[b].currentIndex),y(++a[b].currentIndex),s("right"),x(a[b].currentIndex-1),q(a[b].currentIndex+1));var c=new CustomEvent("next");d.dispatchEvent(c)},z=function(c){if(void 0!==a[b].sliderElements[c]){var d=a[b].sliderElements[c].querySelector("[data-type]"),e=d.getAttribute("data-type");a[b].sliderElements[c].classList.remove("tobii__slide--is-active"),a[b].sliderElements[c].setAttribute("aria-hidden","true"),l[e].onLeave(d)}},x=function(c){if(void 0!==a[b].sliderElements[c]){var d=a[b].sliderElements[c].querySelector("[data-type]"),e=d.getAttribute("data-type");l[e].onCleanup(d)}},B=function(){I=-a[b=null!==b?b:h].currentIndex*d.offsetWidth,a[b].slider.style.transform="translate3d(".concat(I,"px, 0, 0)"),E=I},C=function(){e={startX:0,endX:0,startY:0,endY:0}},T=function(){var d=e.endX-e.startX,f=e.endY-e.startY,g=Math.abs(d),h=Math.abs(f);d>0&&g>c.threshold&&a[b].currentIndex>0?w():d<0&&g>c.threshold&&a[b].currentIndex!==a[b].elementsLength-1?v():f<0&&h>c.threshold&&c.swipeClose?m():B()},L=function(){G||(G=!0,o.requestAnimationFrame(function(){B(),G=!1}))},V=function(c){c.preventDefault(),b=D(this),O(a[b].gallery.indexOf(this))},W=function(a){a.target===f?w():a.target===g?v():(a.target===k||!1===p&&!1===r&&a.target.classList.contains("tobii__slide")&&c.docClose)&&m(),a.stopPropagation()},X=function(a){var b=Array.prototype.slice.call(d.querySelectorAll(".tobii__btn:not([disabled]), .tobii__slide--is-active + ".concat(aj.join(", .tobii__slide--is-active ")))).filter(function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}),c=b.indexOf(document.activeElement);9===a.keyCode||"Tab"===a.code?a.shiftKey&&0===c?(b[b.length-1].focus(),a.preventDefault()):a.shiftKey||c!==b.length-1||(b[0].focus(),a.preventDefault()):27===a.keyCode||"Escape"===a.code?(a.preventDefault(),m()):37===a.keyCode||"ArrowLeft"===a.code?(a.preventDefault(),w()):39!==a.keyCode&&"ArrowRight"!==a.code||(a.preventDefault(),v())},Y=function(c){Z(c.target)||(c.stopPropagation(),p=!1,r=!1,n=!0,e.startX=c.touches[0].pageX,e.startY=c.touches[0].pageY,a[b].slider.classList.add("tobii__slider--is-dragging"))},ae=function(a){a.stopPropagation(),n&&(a.preventDefault(),e.endX=a.touches[0].pageX,e.endY=a.touches[0].pageY,ad())},_=function(c){c.stopPropagation(),n=!1,a[b].slider.classList.remove("tobii__slider--is-dragging"),e.endX&&T(),C()},$=function(c){Z(c.target)||(c.preventDefault(),c.stopPropagation(),p=!1,r=!1,n=!0,e.startX=c.pageX,e.startY=c.pageY,a[b].slider.classList.add("tobii__slider--is-dragging"))},aa=function(a){a.preventDefault(),n&&(e.endX=a.pageX,e.endY=a.pageY,ad())},ab=function(c){c.stopPropagation(),n=!1,a[b].slider.classList.remove("tobii__slider--is-dragging"),e.endX&&T(),C()},ac=function(){n=!1},ad=function(){Math.abs(e.startX-e.endX)>0&&!r&&a[b].elementsLength>1?(a[b].slider.style.transform="translate3d(".concat(E-Math.round(e.startX-e.endX),"px, 0, 0)"),p=!0,r=!1):Math.abs(e.startY-e.endY)>0&&!p&&c.swipeClose&&(a[b].slider.style.transform="translate3d(".concat(E,"px, -").concat(Math.round(e.startY-e.endY),"px, 0)"),p=!1,r=!0)},an=function(){c.keyboard&&o.addEventListener("keydown",X),o.addEventListener("resize",L),o.addEventListener("popstate",m),d.addEventListener("click",W),c.draggable&&(A()&&(d.addEventListener("touchstart",Y),d.addEventListener("touchmove",ae),d.addEventListener("touchend",_)),d.addEventListener("mousedown",$),d.addEventListener("mouseup",ab),d.addEventListener("mousemove",aa),d.addEventListener("contextmenu",ac))},af=function(){c.keyboard&&o.removeEventListener("keydown",X),o.removeEventListener("resize",L),o.removeEventListener("popstate",m),d.removeEventListener("click",W),c.draggable&&(A()&&(d.removeEventListener("touchstart",Y),d.removeEventListener("touchmove",ae),d.removeEventListener("touchend",_)),d.removeEventListener("mousedown",$),d.removeEventListener("mouseup",ab),d.removeEventListener("mousemove",aa),d.removeEventListener("contextmenu",ac))},F=function(a,b){return a.getAttribute("data-type")===b},ah=function(b){var a=b.querySelectorAll("src");a&&a.forEach(function(a){a.setAttribute("src","")})},N=function(){(c.draggable&&c.swipeClose&&!a[b].slider.classList.contains("tobii__slider--is-draggable")||c.draggable&&a[b].elementsLength>1&&!a[b].slider.classList.contains("tobii__slider--is-draggable"))&&a[b].slider.classList.add("tobii__slider--is-draggable"),!c.nav||1===a[b].elementsLength||"auto"===c.nav&&A()?(f.setAttribute("aria-hidden","true"),f.disabled=!0,g.setAttribute("aria-hidden","true"),g.disabled=!0):(f.setAttribute("aria-hidden","false"),f.disabled=!1,g.setAttribute("aria-hidden","false"),g.disabled=!1),c.counter&&1!==a[b].elementsLength?u.setAttribute("aria-hidden","false"):u.setAttribute("aria-hidden","true")},s=function(d){B(),u.textContent="".concat(a[b].currentIndex+1,"/").concat(a[b].elementsLength),function(d){(!0===c.nav||"auto"===c.nav)&&!A()&&a[b].elementsLength>1?(f.setAttribute("aria-hidden","true"),f.disabled=!0,g.setAttribute("aria-hidden","true"),g.disabled=!0,1===a[b].elementsLength?c.close&&k.focus():0===a[b].currentIndex?(g.setAttribute("aria-hidden","false"),g.disabled=!1,g.focus()):a[b].currentIndex===a[b].elementsLength-1?(f.setAttribute("aria-hidden","false"),f.disabled=!1,f.focus()):(f.setAttribute("aria-hidden","false"),f.disabled=!1,g.setAttribute("aria-hidden","false"),g.disabled=!1,"left"===d?f.focus():g.focus())):c.close&&k.focus()}(d)},P=function(){j()&&m(),Object.entries(a).forEach(function(a){a[1].gallery.forEach(function(a){Q(a)})}),a={},h=b=null,K=0},j=function(){return"false"===d.getAttribute("aria-hidden")},A=function(){return"ontouchstart"in window},Z=function(a){return-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(a.nodeName)||a===f||a===g||a===k};return function(b){c=function(a){var b={selector:".lightbox",captions:!0,captionsSelector:"img",captionAttribute:"alt",nav:"auto",navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">\n          <path stroke="none" d="M0 0h24v24H0z"/>\n          <polyline points="15 6 9 12 15 18" />\n        </svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">\n          <path stroke="none" d="M0 0h24v24H0z"/>\n          <polyline points="9 6 15 12 9 18" />\n        </svg>'],navLabel:["Previous image","Next image"],close:!0,closeText:'\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">\n          <path stroke="none" d="M0 0h24v24H0z"/>\n          <line x1="18" y1="6" x2="6" y2="18" />\n          <line x1="6" y1="6" x2="18" y2="18" />\n        </svg>\n      ',closeLabel:"Close lightbox",loadingIndicatorLabel:"Image loading",counter:!0,download:!1,downloadText:"",downloadLabel:"Download image",keyboard:!0,zoom:!0,zoomText:'\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">\n          <path stroke="none" d="M0 0h24v24H0z"/>\n          <polyline points="16 4 20 4 20 8" />\n          <line x1="14" y1="10" x2="20" y2="4" />\n          <polyline points="8 20 4 20 4 16" />\n          <line x1="4" y1="20" x2="10" y2="14" />\n          <polyline points="16 20 20 20 20 16" />\n          <line x1="14" y1="14" x2="20" y2="20" />\n          <polyline points="8 4 4 4 4 8" />\n          <line x1="4" y1="4" x2="10" y2="10" />\n        </svg>\n      ',docClose:!0,swipeClose:!0,hideScrollbar:!0,draggable:!0,threshold:100,rtl:!1,loop:!1,autoplayVideo:!1,modal:!1,theme:"tobii--theme-default"};return a&&Object.keys(a).forEach(function(c){b[c]=a[c]}),b}(b),d||am();var a=document.querySelectorAll(c.selector);if(!a)throw new Error("Ups, I can't find the selector ".concat(c.selector," on this website."));a.forEach(function(a){S(a)})}(al),i.open=O,i.previous=w,i.next=v,i.close=m,i.add=S,i.remove=Q,i.reset=P,i.destroy=function(){P(),d.parentNode.removeChild(d)},i.isOpen=j,i.slidesIndex=function(){return a[b].currentIndex},i.select=function(c){var d=a[b].currentIndex;if(!j())throw new Error("Ups, I'm closed.");if(j()){if(!c&&0!==c)throw new Error("Ups, no slide specified.");if(c===a[b].currentIndex)throw new Error("Ups, slide ".concat(c," is already selected."));if(-1===c||c>=a[b].elementsLength)throw new Error("Ups, I can't find slide ".concat(c,"."))}a[b].currentIndex=c,z(d),y(c),c<d&&(s("left"),x(d),q(c-1)),c>d&&(s("right"),x(d),q(c+1))},i.slidesCount=function(){return a[b].elementsLength},i.selectGroup=function(c){if(j())throw new Error("Ups, I'm open.");if(!c)throw new Error("Ups, no group specified.");if(c&&!Object.prototype.hasOwnProperty.call(a,c))throw new Error("Ups, I don't have a group called \"".concat(c,'".'));b=c},i.currentGroup=function(){return null!==b?b:h},i.on=function(a,b){d.addEventListener(a,b)},i.off=function(a,b){d.removeEventListener(a,b)},i}})